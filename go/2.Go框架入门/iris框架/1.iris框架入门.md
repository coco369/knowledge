# Goä½¿ç”¨æŒ‡å—--irisæ¡†æ¶å®‰è£…

> Auth: ç‹æµ·é£
>
> Dataï¼š2019-12-09
>
> Emailï¼š779598160@qq.com
>
> githubï¼šhttps://github.com/coco369/knowledge

### å‰è¨€

â€‹   [irisæ¡†æ¶ä¸­æ–‡æ–‡æ¡£](https://www.studyiris.com/doc/),Goè¯­è¨€æ˜¯è°·æ­Œæ¨å‡ºçš„ä¸€ç§å…¨æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥åœ¨ä¸æŸå¤±åº”ç”¨ç¨‹åºæ€§èƒ½çš„æƒ…å†µä¸‹é™ä½ä»£ç çš„å¤æ‚æ€§ã€‚è°·æ­Œé¦–å¸­è½¯ä»¶å·¥ç¨‹å¸ˆç½—å¸ƒæ´¾å…‹(Rob Pike)è¯´ï¼šæˆ‘ä»¬ä¹‹æ‰€ä»¥å¼€å‘Goï¼Œæ˜¯å› ä¸ºè¿‡å»10å¤šå¹´é—´è½¯ä»¶å¼€å‘çš„éš¾åº¦ä»¤äººæ²®ä¸§ã€‚

   è°·æ­Œèµ„æ·±è½¯ä»¶å·¥ç¨‹å¸ˆç½—å¸ƒÂ·æ´¾å…‹(Rob Pike)è¡¨ç¤ºï¼Œâ€œGoè®©æˆ‘ä½“éªŒåˆ°äº†ä»æœªæœ‰è¿‡çš„å¼€å‘æ•ˆç‡ã€‚â€æ´¾å…‹è¡¨ç¤ºï¼Œå’Œä»Šå¤©çš„C++æˆ–Cä¸€æ ·ï¼ŒGoæ˜¯ä¸€ç§ç³»ç»Ÿè¯­è¨€ã€‚ä»–è§£é‡Šé“ï¼Œâ€œä½¿ç”¨å®ƒå¯ä»¥è¿›è¡Œå¿«é€Ÿå¼€å‘ï¼ŒåŒæ—¶å®ƒè¿˜æ˜¯ä¸€ä¸ªçœŸæ­£çš„ç¼–è¯‘è¯­è¨€ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥ç°åœ¨å°†å…¶å¼€æºï¼ŒåŸå› æ˜¯æˆ‘ä»¬è®¤ä¸ºå®ƒå·²ç»éå¸¸æœ‰ç”¨å’Œå¼ºå¤§ã€‚â€


### 1. iriså®‰è£…

åœ¨Mac OSç³»ç»Ÿä¸­å®‰è£…iriséœ€è¦å…ˆè®¾ç½®ä»£ç†ï¼Œæˆ–è€…ç¿»å¢™ï¼Œè¦ä¸ç„¶ä¸‹è½½irisä¼šå¡ä½ã€‚è®¾ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š

    # Enable the go modules feature
    export GO111MODULE=on
    # Set the GOPROXY environment variable
    export GOPROXY=https://goproxy.io

Or, write it into the .bashrc or .bash_profile file.


å…¶æ¬¡ä½¿ç”¨go modç®¡ç†æœ¬åœ°é¡¹ç›®ï¼Œå‘½ä»¤è®¾ç½®å¦‚ä¸‹æ‰€ç¤º:

    go mod init irissys
    
    go get github.com/kataras/iris
    

### 2ã€‚ æœ€ç®€å•çš„webåº”ç”¨

```
package main

import (
	"github.com/kataras/iris"
)

func main() {
	// ç”Ÿæˆiriså¯¹è±¡
	app := iris.New()

	// å®šä¹‰è·¯ç”±å’Œæ–¹æ³•çš„å…³è”å…³ç³»
	app.Get("/hello", func(ctx iris.Context) {
		// å†™å…¥è¿”å›ç»™å‰ç«¯çš„æ•°æ®ï¼š"hello world"
		ctx.WriteString("hello world")
	})

	// å¯åŠ¨ï¼Œå¹¶æŒ‡å®šå¯åŠ¨çš„ç«¯å£ä¸º8090
	app.Run(iris.Addr(":8090"))

}
```
    
åœ¨æµè§ˆå™¨ä¸­è®¿é—®http://127.0.0.1:8090/ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æˆªå›¾ï¼š

![](../../images/irisçš„å¯åŠ¨1.png)
    
### 3. æ¨¡æ¿æ¸²æŸ“

ä½¿ç”¨irisæ¸²æŸ“é¡µé¢ï¼Œå¹¶å‘é¡µé¢ä¸­ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
package main

import "github.com/kataras/iris"

func main() {
	app := iris.New()

	// ç”Ÿæˆæ¨¡æ¿å¼•æ“
	// iris.HTML(è§£æçš„æ–‡ä»¶è·¯å¾„ï¼Œè§£ææ–‡ä»¶çš„åç¼€)
	htmlEngine := iris.HTML("./templates", ".html")
	// æ³¨å†Œæ¨¡æ¿å¼•æ“
	app.RegisterView(htmlEngine)

	app.Get("/hello", func(ctx iris.Context) {
		// å‘å‰ç«¯é¡µé¢ä¸­ä¼ é€’ä¸¤ä¸ªå˜é‡ï¼Œtitleå’Œdata
		ctx.ViewData("title", "æµ‹è¯•é¡µé¢")
		ctx.ViewData("data", "hello world! ğŸ˜‚å“ˆå“ˆå“ˆ")
		// æŒ‡å®šæ¸²æŸ“çš„é¡µé¢
		ctx.View("hello.html")
	})
	// å¯åŠ¨
	app.Run(iris.Addr(":8080"))
}

```

åˆ›å»ºæ–‡ä»¶å¤¹templateså¹¶åˆ›å»ºhello.htmlé¡µé¢ï¼Œé¡µé¢ä¸­é€šè¿‡{{ .å˜é‡å }}æ¥è§£æå˜é‡çš„å€¼
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ .title }}</title>
</head>
<body>
    {{ .data }}
</body>
</html>
```
    
    